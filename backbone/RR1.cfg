!

!
version 17.12
service timestamps debug datetime msec
service timestamps log datetime msec
!
hostname RR1
!
boot-start-marker
boot-end-marker
!
!
vrf definition clab-mgmt
 description clab-mgmt
 !
 address-family ipv4
 exit-address-family
 !
 address-family ipv6
 exit-address-family
!
no aaa new-model
!
!
!
!
!
!
!
!
!
!
!
!
!
no ip domain lookup
ip domain name lab
ip cef
login on-success log
ipv6 unicast-routing
ipv6 cef
!
!
!
!
!
!
!
!
mpls label protocol ldp
multilink bundle-name authenticated
!
!
crypto pki trustpoint TP-self-signed-16
 enrollment selfsigned
 subject-name cn=IOS-Self-Signed-Certificate-16
 revocation-check none
 rsakeypair TP-self-signed-16
 hash sha256
!
!
crypto pki certificate chain TP-self-signed-16
 certificate self-signed 01
  30820320 30820208 A0030201 02020101 300D0609 2A864886 F70D0101 0B050030 
  29312730 25060355 04030C1E 494F532D 53656C66 2D536967 6E65642D 43657274 
  69666963 6174652D 3136301E 170D3235 30373239 32323030 32315A17 0D333530 
  37323932 32303032 315A3029 31273025 06035504 030C1E49 4F532D53 656C662D 
  5369676E 65642D43 65727469 66696361 74652D31 36308201 22300D06 092A8648 
  86F70D01 01010500 0382010F 00308201 0A028201 0100CA64 B896C450 23490F8F 
  EC945D05 AAD01A0E E0D7E30F C6F7EB74 8B8558E8 9A176D22 2B1DD018 6E91B5E5 
  1DB3818F 961B9F61 C523E03C 59576B8F 4601DF87 7D0A69D3 14513668 98E74A11 
  1F3D25EB B8DDFCC6 E334C4E8 748B740D 0D2EEF3E EE448CAC E8C95A57 4DB37519 
  C1729F17 542986A4 29C30412 6F6B1B96 284A93D4 B15F3B93 FFF5077B 524163AC 
  2A6B3854 A2C92564 4B734E6A 49D32653 0AA3E1AA E1C77D47 CAFAA952 37F2CFD9 
  33AB8CF0 1351351A 2E84FD60 C0E42DFB 00AAD28F 6C04700E E41CC67A CF209037 
  A6EB2851 4B471BE8 7ECDE8DE 78FFC7C0 179D098A 483D8FD9 606B29D5 B236ABBE 
  582894D7 9349892B E9E93CB8 102588A3 BAF138D1 72C90203 010001A3 53305130 
  1D060355 1D0E0416 0414A536 0099F479 A0D3062C 410567F9 5FA4C27A 2070301F 
  0603551D 23041830 168014A5 360099F4 79A0D306 2C410567 F95FA4C2 7A207030 
  0F060355 1D130101 FF040530 030101FF 300D0609 2A864886 F70D0101 0B050003 
  82010100 388057F0 B2DD9700 E112B8E5 806C742C 650A72C8 EF60952D 0A046098 
  C4EAD4CB 6233236B 4D057D41 B3318FD5 D045E343 79322461 B52EF2C9 291E3DFF 
  E500C516 E6F21F33 83D564FD 1981FE51 F67E9F1D 70D10624 D6B0EF11 3BD8D050 
  872DA321 C572203B 14DE1056 2CAB535F 81CEE093 0EF9DBD8 A2793F9D 6E036F04 
  471C6B26 A5CAF1EC 651B44ED C52F6A1B DF72A22E F6E3BEF2 02CF2B07 A4478E59 
  18447179 D8555D98 BD55B22F 23394D81 816D2562 90653826 D759EF64 D45C9FC8 
  CDBEEB05 16E64CC1 70150A8D 69737279 ECA3559E 23D0A41D D5DD4711 CEA50BDF 
  6E233D11 7754276B 52A72941 07BE88A2 05599A90 972D918E 2BFC0C2B 5A2C16A2 44321C3D
  	quit
!
!
memory free low-watermark processor 55011
!
!
spanning-tree mode rapid-pvst
!
!
username admin privilege 15 secret 9 $9$YMji4T302rqlEk$8/V96ezzz3poG/aQH1pTF2x0ZamMDT2eP4s/PjDQbOk
!
!
!
!
!
! 
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
interface Loopback0
 description Protocol Loopback
 ip address 100.0.254.5 255.255.255.255
 ip ospf 1 area 10
 ipv6 address 2001:DB8:100:254::5/128
 ipv6 ospf 1 area 10
!
interface Ethernet0/0
 description MGMT ONLY INTERFACE
 vrf forwarding clab-mgmt
 ip address 192.168.220.11 255.255.255.0
 no cdp enable
!
interface Ethernet0/1
 description To P1-Ethernet0/3
 ip address 100.0.101.2 255.255.255.0
 ip ospf network point-to-point
 ip ospf 1 area 10
 ipv6 address 2001:DB8:100:101::101/64
 ipv6 enable
 mpls ip
 ipv6 ospf 1 area 10
!
interface Ethernet0/2
 description To P2-Ethernet0/3
 ip address 100.0.102.2 255.255.255.0
 ip ospf network point-to-point
 ip ospf 1 area 10
 ipv6 address 2001:DB8:100:102::101/64
 ipv6 enable
 mpls ip
 ipv6 ospf 1 area 10
!
interface Ethernet0/3
 no ip address
!
router ospf 1
 router-id 100.0.254.5
 passive-interface Loopback0
!
router bgp 65000
 bgp log-neighbor-changes
 no bgp default ipv4-unicast
 neighbor BACKBONE-RR-IPV4-PEERS peer-group
 neighbor BACKBONE-RR-IPV4-PEERS remote-as 65000
 neighbor BACKBONE-RR-IPV6-PEERS peer-group
 neighbor BACKBONE-RR-IPV6-PEERS remote-as 65000
 neighbor 2001:DB8:100:254::1 peer-group BACKBONE-RR-IPV6-PEERS
 neighbor 2001:DB8:100:254::1 description P1_Loopback0
 neighbor 2001:DB8:100:254::1 update-source Loopback0
 neighbor 2001:DB8:100:254::2 peer-group BACKBONE-RR-IPV6-PEERS
 neighbor 2001:DB8:100:254::2 description P2_Loopback0
 neighbor 2001:DB8:100:254::2 update-source Loopback0
 neighbor 2001:DB8:100:254::3 peer-group BACKBONE-RR-IPV6-PEERS
 neighbor 2001:DB8:100:254::3 description P3_Loopback0
 neighbor 2001:DB8:100:254::3 update-source Loopback0
 neighbor 2001:DB8:100:254::4 peer-group BACKBONE-RR-IPV6-PEERS
 neighbor 2001:DB8:100:254::4 description P4_Loopback0
 neighbor 2001:DB8:100:254::4 update-source Loopback0
 neighbor 2001:DB8:100:254::11 peer-group BACKBONE-RR-IPV6-PEERS
 neighbor 2001:DB8:100:254::11 description PE1_Loopback0
 neighbor 2001:DB8:100:254::11 update-source Loopback0
 neighbor 2001:DB8:100:254::12 peer-group BACKBONE-RR-IPV6-PEERS
 neighbor 2001:DB8:100:254::12 description PE2_Loopback0
 neighbor 2001:DB8:100:254::12 update-source Loopback0
 neighbor 2001:DB8:100:254::13 peer-group BACKBONE-RR-IPV6-PEERS
 neighbor 2001:DB8:100:254::13 description PE3_Loopback0
 neighbor 2001:DB8:100:254::13 update-source Loopback0
 neighbor 100.0.254.1 peer-group BACKBONE-RR-IPV4-PEERS
 neighbor 100.0.254.1 description P1_Loopback0
 neighbor 100.0.254.1 update-source Loopback0
 neighbor 100.0.254.2 peer-group BACKBONE-RR-IPV4-PEERS
 neighbor 100.0.254.2 description P2_Loopback0
 neighbor 100.0.254.2 update-source Loopback0
 neighbor 100.0.254.3 peer-group BACKBONE-RR-IPV4-PEERS
 neighbor 100.0.254.3 description P3_Loopback0
 neighbor 100.0.254.3 update-source Loopback0
 neighbor 100.0.254.4 peer-group BACKBONE-RR-IPV4-PEERS
 neighbor 100.0.254.4 description P4_Loopback0
 neighbor 100.0.254.4 update-source Loopback0
 neighbor 100.0.254.11 peer-group BACKBONE-RR-IPV4-PEERS
 neighbor 100.0.254.11 description PE1_Loopback0
 neighbor 100.0.254.11 update-source Loopback0
 neighbor 100.0.254.12 peer-group BACKBONE-RR-IPV4-PEERS
 neighbor 100.0.254.12 description PE2_Loopback0
 neighbor 100.0.254.12 update-source Loopback0
 neighbor 100.0.254.13 peer-group BACKBONE-RR-IPV4-PEERS
 neighbor 100.0.254.13 description PE3_Loopback0
 neighbor 100.0.254.13 update-source Loopback0
 !
 address-family ipv4
  neighbor BACKBONE-RR-IPV4-PEERS send-community both
  neighbor BACKBONE-RR-IPV4-PEERS route-reflector-client
  neighbor BACKBONE-RR-IPV4-PEERS route-map ALLOW_ALL_V4_IN in
  neighbor BACKBONE-RR-IPV4-PEERS route-map ALLOW_ALL_V4_OUT out
  neighbor 100.0.254.1 activate
  neighbor 100.0.254.2 activate
  neighbor 100.0.254.3 activate
  neighbor 100.0.254.4 activate
  neighbor 100.0.254.11 activate
  neighbor 100.0.254.12 activate
  neighbor 100.0.254.13 activate
 exit-address-family
 !
 address-family ipv6
  neighbor BACKBONE-RR-IPV6-PEERS send-community both
  neighbor BACKBONE-RR-IPV6-PEERS route-reflector-client
  neighbor BACKBONE-RR-IPV6-PEERS route-map ALLOW_ALL_V6_IN in
  neighbor BACKBONE-RR-IPV6-PEERS route-map ALLOW_ALL_V6_OUT out
  neighbor 2001:DB8:100:254::1 activate
  neighbor 2001:DB8:100:254::2 activate
  neighbor 2001:DB8:100:254::3 activate
  neighbor 2001:DB8:100:254::4 activate
  neighbor 2001:DB8:100:254::11 activate
  neighbor 2001:DB8:100:254::12 activate
  neighbor 2001:DB8:100:254::13 activate
 exit-address-family
!
ip forward-protocol nd
!
!
ip http server
ip http secure-server
ip route vrf clab-mgmt 0.0.0.0 0.0.0.0 Ethernet0/0 192.168.220.1
ip ssh bulk-mode 131072
!
!
ip prefix-list ALLOW_ALL_IN_PREFIX seq 5 permit 0.0.0.0/0 le 32
!
ip prefix-list ALLOW_ALL_OUT_PREFIX seq 5 permit 0.0.0.0/0 le 32
ipv6 route vrf clab-mgmt ::/0 Ethernet0/0
ipv6 router ospf 1
 router-id 100.0.254.5
 passive-interface Loopback0
!
!
!
ipv6 prefix-list ALLOW_ALL_V6_IN_PREFIX seq 5 permit ::/0 le 128
!
ipv6 prefix-list ALLOW_ALL_V6_OUT_PREFIX seq 5 permit ::/0 le 128
route-map ALLOW_ALL_V6_IN permit 10 
 match ip address prefix-list ALLOW_ALL_V6_IN_PREFIX
!
route-map ALLOW_ALL_V6_OUT permit 10 
 match ip address prefix-list ALLOW_ALL_V6_OUT_PREFIX
!
route-map ALLOW_ALL_V4_OUT permit 10 
 match ip address prefix-list ALLOW_ALL_OUT_PREFIX
!
route-map ALLOW_ALL_V4_IN permit 10 
 match ip address prefix-list ALLOW_ALL_IN_PREFIX
!
mpls ldp router-id Loopback0 force
!
!
!
control-plane
!
!
!
line con 0
 logging synchronous
line aux 0
line vty 0 4
 login local
 transport input ssh
!
!
!
!
end